"use strict";function enterFullscreen(){fullscreenFunc.call(fullscreenDiv)}function exitFullScreen(){var n=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen,t;n&&(t=n.bind(document),t())}function exitHandler(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?$("#fullscreen").addClass("fullscreen"):$("#fullscreen").removeClass("fullscreen")}initScreenViewModel("viewModel",initialData.language.id,initialData.amendment,initialData.amendmentBody,initialData.language.languageName);var fullscreenButton=document.getElementById("fullscreen-button"),fullscreenDiv=document.getElementById("fullscreen"),fullscreenFunc=fullscreenDiv.requestFullscreen;fullscreenFunc||["mozRequestFullScreen","msRequestFullscreen","webkitRequestFullScreen"].forEach(function(n){fullscreenFunc=fullscreenFunc||fullscreenDiv[n]});fullscreenButton.addEventListener("click",enterFullscreen);document.addEventListener&&(document.addEventListener("webkitfullscreenchange",exitHandler,!1),document.addEventListener("mozfullscreenchange",exitHandler,!1),document.addEventListener("fullscreenchange",exitHandler,!1),document.addEventListener("MSFullscreenChange",exitHandler,!1));$(document).on("connection.error",function(){exitFullScreen()});