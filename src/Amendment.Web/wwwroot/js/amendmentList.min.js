var AmendmentModel=function(n){var t=this;t.amendments=ko.observableArray(convertArrayToObservable(n));t.userRoles=_usersRoles;t.liveAmendment=ko.computed(function(){var n=arrayFirstIndexOf(t.amendments(),function(n){return n.isLive()});return n>-1?t.amendments()[n].id():-1});$(document).on("AmendmentChange",function(n,i){var r,u,f;console.log(i);switch(i.results.operationType){case 1:t.amendments.push(convertToObservable(i.data));break;case 2:r=arrayFirstIndexOf(t.amendments(),function(n){return n.id()===i.id});r>-1&&(u=t.amendments()[r],f=convertToObservable(i.data),t.amendments.replace(u,f));break;case 3:t.amendments.remove(function(n){return n.id()===i.id})}})};ko.applyBindings(new AmendmentModel(initialData),document.getElementById("amendmentList"));